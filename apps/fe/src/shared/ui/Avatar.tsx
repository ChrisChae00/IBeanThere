'use client';

import { useState } from 'react';

interface AvatarProps {
  src?: string;
  alt: string;
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  className?: string;
}

const sizeClasses = {
  xs: 'w-6 h-6',
  sm: 'w-8 h-8',
  md: 'w-10 h-10',
  lg: 'w-12 h-12',
  xl: 'w-14 h-14',
};

export function Avatar({ src, alt, size = 'md', className = '' }: AvatarProps) {
  const [imageError, setImageError] = useState(false);
  
  const handleImageError = () => {
    setImageError(true);
  };

  return (
    <div className={`${sizeClasses[size]} rounded-full bg-[var(--color-primary)] text-[var(--color-primaryText)] flex items-center justify-center overflow-hidden transition-colors group-hover:bg-[var(--color-primaryText)] group-hover:text-[var(--color-primary)] ${className}`}>
      {src && !imageError ? (
        <img
          src={src}
          alt={alt}
          className="w-full h-full object-cover"
          onError={handleImageError}
        />
      ) : (
        <svg 
          width={size === 'xs' ? 20 : size === 'sm' ? 24 : size === 'md' ? 28 : size === 'lg' ? 32 : size === 'xl' ? 36 : 36}
          height={size === 'xs' ? 20 : size === 'sm' ? 24 : size === 'md' ? 28 : size === 'lg' ? 32 : size === 'xl' ? 36 : 36}
          viewBox="0 0 1024 1024" 
          fill="currentColor"
          className="transition-colors"
        >
          <path fill="currentColor" opacity="1.000000" stroke="none" 
            d="
            M208.199646,641.287842 
            C223.348373,616.924866 245.433441,601.154175 270.009674,588.466003 
            C295.368683,575.373657 322.118744,565.540894 348.936646,555.955566 
            C367.265717,549.404297 385.473022,542.478699 404.144409,536.921082 
            C413.110657,534.252136 416.367218,535.926331 419.228516,545.324524 
            C425.381317,565.533875 431.118042,585.869995 437.293518,606.072266 
            C447.903625,640.782104 459.490570,675.166443 472.388550,709.100098 
            C473.892517,713.056885 475.166351,714.429382 479.705933,717.212769 
            C483.096008,707.264954 483.107513,696.853088 484.587402,686.711060 
            C486.911438,670.784241 488.658203,654.772705 491.028534,638.853455 
            C491.538940,635.425293 491.172211,632.690247 489.387939,629.898865 
            C483.994476,621.460876 479.235962,612.686584 475.469543,603.389038 
            C468.810699,586.951416 472.347778,580.064819 490.008087,577.659973 
            C505.362549,575.569031 520.908752,575.808044 536.276550,577.955444 
            C547.099792,579.467957 555.079468,587.583496 549.088562,600.823669 
            C545.716797,608.275513 542.642273,616.011414 537.839111,622.512939 
            C532.099365,630.282410 532.090454,638.033936 533.534668,646.967529 
            C537.215576,669.736450 540.133362,692.628906 543.323608,715.476562 
            C543.555908,717.140259 543.770630,718.750854 545.018188,720.111511 
            C547.982300,720.226746 548.249939,717.728760 549.036316,715.851196 
            C560.240295,689.100525 569.432312,661.645691 577.828003,633.903564 
            C586.646729,604.763733 594.828125,575.445374 602.928894,546.101013 
            C605.661133,536.203796 610.025330,533.716431 619.601379,536.852173 
            C665.167053,551.773132 710.835144,566.512268 753.914856,587.905701 
            C780.121033,600.919800 803.110352,617.947510 818.056763,643.984131 
            C828.895020,662.864319 834.680969,683.452881 838.293823,704.736145 
            C841.713501,724.881714 843.776611,745.184021 845.444641,765.548462 
            C846.869751,782.947388 847.866455,800.345886 848.501892,817.792175 
            C848.889343,828.428345 849.979553,838.989014 848.428589,849.627625 
            C846.968079,859.644958 841.724915,867.232422 833.959167,873.255066 
            C818.322693,885.381775 799.714050,890.791382 781.158997,896.212708 
            C746.779602,906.257690 711.632446,912.777161 676.275452,918.056885 
            C653.778259,921.416321 631.108459,923.549622 608.418640,925.403870 
            C590.844543,926.840027 573.251709,927.612122 555.652344,928.533386 
            C530.664490,929.841370 505.689697,929.292847 480.724304,929.122375 
            C461.292969,928.989624 441.826996,927.784546 422.460632,926.092407 
            C404.939972,924.561523 387.436920,922.635315 369.952850,920.560852 
            C343.874573,917.466492 317.972473,913.478943 292.263641,908.231201 
            C267.329071,903.141724 242.509232,897.546753 218.687607,888.310974 
            C209.498016,884.748108 200.560364,880.708984 192.666534,874.664795 
            C182.166611,866.625305 176.975296,855.855896 176.740479,842.790649 
            C176.291656,817.816956 178.089966,792.905212 179.848190,768.031982 
            C181.968155,738.041626 185.005829,708.106567 192.705002,678.894653 
            C196.156006,665.801025 200.870132,653.192139 208.199646,641.287842 
            M787.908325,858.344299 
            C795.169922,855.458191 802.668335,853.081970 809.146057,848.505737 
            C811.672241,846.721130 813.754028,844.682922 813.730286,841.245789 
            C813.660339,831.082458 814.153381,820.885254 813.493103,810.762146 
            C811.990723,787.730896 810.579651,764.692200 807.837830,741.744934 
            C805.388000,721.241394 802.563904,700.869812 795.728577,681.282410 
            C789.559204,663.603271 779.637146,648.526794 764.950500,636.642273 
            C753.202332,627.135681 740.122070,619.906677 726.650879,613.286499 
            C697.431152,598.927002 666.602600,588.739258 635.886169,578.244873 
            C631.803040,576.849854 630.193420,577.941650 629.153687,581.925720 
            C625.669800,595.275146 621.980042,608.571899 618.272949,621.861938 
            C600.627197,685.123535 579.619690,747.147400 550.230774,806.071045 
            C542.876160,820.816772 536.071045,835.892578 526.546387,849.423279 
            C516.376038,863.871094 507.605865,863.713257 497.866150,848.781860 
            C492.416412,840.427124 487.494659,831.691406 482.836548,822.862732 
            C448.498169,757.780090 423.664093,688.998962 403.645416,618.365173 
            C400.244080,606.363892 396.987823,594.319458 393.853210,582.245911 
            C392.771362,578.078979 390.785370,576.734741 386.687134,578.415283 
            C383.149933,579.865723 379.485992,581.008972 375.871063,582.267700 
            C343.627106,593.495667 311.486237,604.978149 281.281403,621.159668 
            C265.991180,629.350952 252.263351,639.506897 242.174271,653.853088 
            C232.024414,668.285706 226.844696,684.798523 223.336365,701.853699 
            C218.376923,725.963257 215.878922,750.386902 214.221115,774.932251 
            C212.775574,796.334717 211.477310,817.726685 211.166992,839.184875 
            C211.084930,844.858398 213.216736,848.192505 218.066940,850.630066 
            C230.493790,856.875427 243.702560,860.956055 257.044983,864.479919 
            C303.240112,876.680725 350.268890,884.069275 397.775970,888.930054 
            C426.576721,891.876831 455.443512,893.625671 484.331726,894.461975 
            C506.942749,895.116699 529.599426,894.964355 552.260986,894.010254 
            C577.020264,892.967834 601.669495,890.953552 626.337463,888.831970 
            C652.174316,886.609680 677.834961,883.138550 703.348267,878.619141 
            C731.671814,873.601990 759.843811,867.854248 787.908325,858.344299 
            z"/>
          <path fill="currentColor" opacity="1.000000" stroke="none" 
            d="
            M370.910522,171.995209 
            C384.699982,148.707336 401.981018,129.215134 424.420105,114.408195 
            C444.825562,100.943199 466.946991,92.820137 491.377350,90.562233 
            C510.774597,88.769485 529.957520,89.377777 548.797241,94.268639 
            C583.555969,103.292130 611.672729,122.773895 633.986694,150.567825 
            C659.145203,181.904907 673.404968,218.082367 680.478271,257.432892 
            C684.262024,278.483337 686.198486,299.632019 685.221313,320.941650 
            C682.837952,372.918243 669.740601,421.481506 637.003296,463.100037 
            C611.755066,495.197754 579.734131,517.591309 538.941406,524.525635 
            C489.952545,532.853027 445.755005,521.632385 408.219849,488.006714 
            C372.020874,455.578033 352.463074,414.042847 342.692383,367.236786 
            C338.187836,345.657806 336.116272,323.777344 336.827301,301.812958 
            C338.305420,256.153809 347.827637,212.440979 370.910522,171.995209 
            M537.271301,221.263321 
            C536.963440,223.402832 536.466370,225.534470 536.377075,227.683044 
            C535.568176,247.154129 532.882935,266.386353 528.611450,285.369324 
            C521.932251,315.052399 515.992126,344.889069 514.539612,375.316895 
            C513.485535,397.398285 513.547668,419.578735 517.471008,441.502075 
            C519.793579,454.480194 523.265198,467.123779 528.786499,479.155823 
            C532.281982,486.773193 534.637695,488.039490 542.915833,486.392670 
            C549.645264,485.053955 556.046875,482.806732 562.220276,479.793030 
            C590.762512,465.859467 610.735901,443.459198 625.428223,415.869873 
            C643.247253,382.409271 648.944336,346.106232 649.502502,308.830139 
            C649.763733,291.388092 647.474426,274.016449 643.659729,256.942596 
            C635.877502,222.110580 622.456787,189.980774 597.736511,163.493500 
            C580.847961,145.397781 561.145264,132.139297 535.943481,128.627960 
            C529.633179,127.748756 528.822693,128.379990 530.114258,134.558289 
            C530.522095,136.509003 530.932373,138.459290 531.324951,140.413086 
            C536.627441,166.796295 537.880493,193.482880 537.271301,221.263321 
            M500.713409,185.584412 
            C500.028473,179.480774 499.675201,173.317261 498.586426,167.286530 
            C496.605804,156.316071 494.350616,145.342117 488.224670,135.739044 
            C484.087830,129.254089 481.438538,128.346786 473.977386,129.855255 
            C465.069946,131.656158 456.757172,134.978455 449.043182,139.725830 
            C423.141632,155.666336 405.720581,178.878296 393.491089,206.130844 
            C376.272034,244.502274 369.937134,284.766266 373.109314,326.755371 
            C374.659393,347.273590 377.899109,367.324402 384.580872,386.747253 
            C396.216888,420.571564 414.297638,449.984528 444.047729,471.007660 
            C456.713867,479.958313 470.665222,486.112640 486.292633,487.656097 
            C492.755249,488.294403 493.464081,487.103546 491.190155,481.029816 
            C482.533813,457.908569 478.771027,433.801819 477.886719,409.307373 
            C477.377594,395.205231 477.542480,381.058136 478.496765,366.894592 
            C479.919342,345.780365 482.882416,324.944580 487.524109,304.363861 
            C496.278198,265.549408 504.502533,226.718689 500.713409,185.584412 
            z"/>
        </svg>
      )}
    </div>
  );
}
